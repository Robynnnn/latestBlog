---
title: 08.完成一个小型静态资源服务器
tags: NodeJS
categories: NodeJS
date: 2017-11-1
---
~~~javascript
//引入http核心模块
var http = require("http");
var fs = require("fs");

//创建一个服务器对象
var server = http.createServer();

//开启服务器
server.on("request",function(req,res){
    //1.0接收请求的地址
    var url = req.url;
    //2.0判断
    if(url == "/index") {
        fs.readFile("./views/index.html",function(err,data){
            if(err) {
                return res.end("失败");
            }
            res.end(data);
        });
    } else if(url == "/js/jquery.min.js") {
        fs.readFile("./js/jquery.min.js",function(err,data){
            if(err) {
                return res.end("失败");
            }
            res.end(data);
        });
    } else if(url == "/img/wj.jpg") {
        fs.readFile("./img/wj.jpg",function(err,data){
            if(err) {
                return res.end("失败");
            }
            res.end(data);
        });
    } else {
        fs.readFile("./views/404.html",function(err,data){
            if(err) {
                return res.end("失败");
            }
            res.end(data);
        });
    } 
});

//开启监听
server.listen("3000",function(){
   console.log("running"); 
});
~~~