<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="01.NodeJS-introduce, Robyn">
    <meta name="description" content="you are the owner of your career">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>01.NodeJS-introduce | Robyn</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Robyn</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Robyn</div>
        <div class="logo-desc">
            
            you are the owner of your career
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/10.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">01.NodeJS-introduce</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/NodeJS/">
                                <span class="chip bg-color">NodeJS</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/NodeJS/" class="post-category">
                                NodeJS
                            </a>
                        
                            <a href="/categories/NodeJS/NodeJS/" class="post-category">
                                NodeJS
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2017-11-01
                </div>
                

                

                

                

                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="NodeJS笔记"><a href="#NodeJS笔记" class="headerlink" title="NodeJS笔记"></a>NodeJS笔记</h1><h3 id="什么是-Node"><a href="#什么是-Node" class="headerlink" title="什么是  Node"></a>什么是  Node</h3><blockquote>
<p>Node.js® is a JavaScript runtime built on <a href="https://developers.google.com/v8/" target="_blank" rel="noopener">Chrome’s V8 JavaScript engine</a>. Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient. Node.js’ package ecosystem, <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a>, is the largest ecosystem of open source libraries in the world.                  –选自：<a href="https://nodejs.org/en/" target="_blank" rel="noopener">https://nodejs.org/en/</a></p>
<p>翻译：</p>
<p>1) Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。<br>2) Node.js 使用了一个事件驱动、非阻塞式 I/O 的模型，使其轻量又高效。<br>3) Node.js 的包管理器 npm，是全球最大的开源库生态系统</p>
<p>​                                –选自：<a href="http://nodejs.cn/" target="_blank" rel="noopener">http://nodejs.cn/</a></p>
</blockquote>
<ul>
<li><p>NodeJS 是一个构建于Chrome V8 引擎之上的一个JavaScript的运行时环境</p>
</li>
<li><p>Node 可以像浏览器一样去解析和执行JavaScript代码  </p>
</li>
<li><p>JavaScript 特点：</p>
<ul>
<li>动态语言<ul>
<li>预编译</li>
<li>再执行</li>
</ul>
</li>
<li>编译和执行都在浏览器环境中完成<ul>
<li>JavaScript包括<ul>
<li>ECMAScript<ul>
<li>var</li>
<li>if</li>
<li>while</li>
<li>function</li>
<li>Date</li>
<li>Math</li>
<li>….</li>
</ul>
</li>
<li>DOM<ul>
<li>document</li>
</ul>
</li>
<li>BOM<ul>
<li>window</li>
</ul>
</li>
</ul>
</li>
<li>通过编译解析引擎解析和执行JavaScript脚本代码</li>
<li>Chorme V8 引擎是所有浏览器里面解析和执行js最快的</li>
</ul>
</li>
</ul>
</li>
<li><p>NodeJS特点：</p>
<ul>
<li>NodeJS 的作者将 Chrome 的 V8 引擎移植出来，作为NodeJS 的运行时环境</li>
<li>在Node 中，没有界面，没有样式（不需要再关心HTML、CSS）</li>
<li>又基于 V8 引擎构建了一系列的API<ul>
<li>ECMASCript：<ul>
<li>var</li>
<li>if</li>
<li>while</li>
<li>function</li>
<li>Date</li>
<li>Math</li>
<li>….</li>
</ul>
</li>
<li>文件操作</li>
<li>网络操作</li>
<li>让JavaSCript代码具有了服务器编程能力（使JavaScript代码成为了服务器端代码）</li>
</ul>
</li>
<li>事件驱动</li>
<li>非阻塞IO模型：大量的异步编程接口与<ul>
<li>ajax 一样的 API 调用方式</li>
<li>异步：回调</li>
</ul>
</li>
<li>跨平台</li>
<li>单线程</li>
<li>轻量和高效</li>
<li>Node.js 的包管理器 npm，是全球最大的开源库生态系统<ul>
<li>npm 是世界上最大的开源生态系统</li>
<li>在 npm 上发布的第三方包已经接近  <strong>35</strong>  万个之多</li>
<li>每个包只能解决单一问题，解决不了业务</li>
</ul>
</li>
</ul>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Chrome V8引擎</span><br><span class="line">    浏览器内核可以分为两个部分，即：渲染引擎和JS引擎。</span><br><span class="line">    渲染引擎：负责对网页语法的解释（如HTML、JavaScript）并渲染网页。 所以，通常所谓的浏览器内核也就是浏览器所采用的渲染引擎，渲染引擎决定了浏览器如何显示网页的内容以及页面的格式信息。不同的浏览器内核对网页编写语法 的解释也有不同，因此同一网页在不同的内核的浏览器里的渲染（显示）效果也可能不同，这也是网页编写者需要在不同内核的浏览器中测试网页显示效果的原因。</span><br><span class="line">    JS引擎：解析 Javascript语言，执行 javascript语言来实现网页的动态效果</span><br><span class="line">    Chrome V8引擎：作为一个 JavaScript 引擎，最初是服役于 Google Chrome 浏览器的。它随着 Chrome 的第一版发布而发布以及开源。现在它除了 Chrome 浏览器，已经有很多其他的使用者了。诸如 NodeJS、MongoDB、CouchDB 等。</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="为什么要学习NodeJS"><a href="#为什么要学习NodeJS" class="headerlink" title="为什么要学习NodeJS"></a>为什么要学习NodeJS</h3><ul>
<li>打开服务器的黑盒子</li>
<li>满足公司的招聘需求：需要具有一定的服务器开发经验</li>
<li>提供更广阔的发展前景：如果是纯粹的前端想要向高级前端发展，服务端就是瓶颈</li>
<li>成为全栈的必经之路</li>
</ul>
<h3 id="Node-应用场景"><a href="#Node-应用场景" class="headerlink" title="Node 应用场景"></a>Node 应用场景</h3><ul>
<li>提供服务（Java , PHP , .Net , Python , Ruby 等服务器语言能做的Node都能做）</li>
<li>网站开发，提供网站服务器</li>
<li>数据库交互</li>
<li>移动应用：后台</li>
<li>网络游戏：后台</li>
<li>CLI （Commond Line Interface）程序：<ul>
<li>git</li>
<li>gulp</li>
<li>hexo</li>
<li>Node 具有开发命令行工具的能力 <ul>
<li>webpack 打包构建工具</li>
<li>http-server 在终端中快速提供一个服务</li>
<li>borwer-sync 提供服务，提供浏览器自动刷新的能力</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="Node-的优势领域"><a href="#Node-的优势领域" class="headerlink" title="Node 的优势领域"></a>Node 的优势领域</h3><ul>
<li><p>对 IO 操作比较频繁的操作</p>
<ul>
<li>文件读写</li>
<li>和数据库交互：网络数据IO</li>
</ul>
</li>
<li><p>实时通信</p>
<ul>
<li><p>聊天软件：微信、QQ、直播</p>
<p>​</p>
</li>
</ul>
</li>
</ul>
<h3 id="NodeJS-学习资源"><a href="#NodeJS-学习资源" class="headerlink" title="NodeJS 学习资源"></a>NodeJS 学习资源</h3><ul>
<li>《Node.js 权威指南》：官方API详解：<a href="https://nodejs.org/dist/latest-v6.x/docs/api/" target="_blank" rel="noopener">https://nodejs.org/dist/latest-v6.x/docs/api/</a></li>
<li>JavaScript 标准参考教程（alpha）: <a href="http://javascript.ruanyifeng.com/nodejs/fs.html" target="_blank" rel="noopener">http://javascript.ruanyifeng.com/nodejs/fs.html</a></li>
<li>Node 入门：<a href="http://www.nodebeginner.org/index-zh-cn.html" target="_blank" rel="noopener">http://www.nodebeginner.org/index-zh-cn.html</a></li>
<li>中文文档（版本比较旧，凑合看）：<a href="http://www.nodeclass.com/api/node.html" target="_blank" rel="noopener">http://www.nodeclass.com/api/node.html</a></li>
<li>CNODE社区：<a href="http://cnodejs.org" target="_blank" rel="noopener">http://cnodejs.org</a></li>
<li>CNODE-新手入门：<a href="http://cnodejs.org/getstart" target="_blank" rel="noopener">http://cnodejs.org/getstart</a></li>
<li>Node.js包教不包会：<a href="https://github.com/alsotang/node-lessons" target="_blank" rel="noopener">https://github.com/alsotang/node-lessons</a></li>
<li>朴灵：《深入浅出Node.js》</li>
</ul>
<h3 id="NodeJS-安装"><a href="#NodeJS-安装" class="headerlink" title="NodeJS 安装"></a>NodeJS 安装</h3><ul>
<li>使用NodeJS 安装包安装<ul>
<li>安装方法，见：安装包—&gt;直接安装Node</li>
</ul>
</li>
<li>使用 nvm 安装和管理 Node<ul>
<li>安装方法，见：安装包—&gt;使用nvm安装</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">判断Node 是否安装成功的方法：</span><br><span class="line">	1.0 打开CMD</span><br><span class="line">	2.0 输入 node + 回车</span><br></pre></td></tr></table></figure>
<h3 id="Node-中的组成"><a href="#Node-中的组成" class="headerlink" title="Node 中的组成"></a>Node 中的组成</h3><ul>
<li>基本语法 ECMAScript<ul>
<li>var</li>
<li>if</li>
<li>while</li>
<li>function</li>
<li>Date</li>
<li>Math</li>
<li>console</li>
<li>定时器函数<ul>
<li>setTimeout  clearTimeout</li>
<li>setInterval  clearInterval</li>
</ul>
</li>
<li>global</li>
<li>….</li>
</ul>
</li>
<li>用户自定义模块<ul>
<li>关键字：<ul>
<li>reuqire：<ul>
<li>是一个函数，可以在任何NodeJS脚本文件中使用</li>
<li>作用：就是用来加载模块的（加载解析执行JavaScript脚本文件）</li>
<li>注意：加载自定义模块时一定要加上“./”，否则加载不出来</li>
</ul>
</li>
<li>module.exports：<ul>
<li>每个模块都会提供一个接口对象module.exports</li>
<li>作用：通过require加载可以得到模块返回的module.exports对象（相当于每个模块最后面都会有一句：reutrn module.exports）</li>
</ul>
</li>
<li>特点：<ul>
<li>自己写每个JS文件都是一个模块</li>
<li>模块天生就是一个私有的作用域</li>
<li>可能通过global设置全局变量（不建议）</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>第三方模块（由社区/公司/个人提供：如果jquery）<ul>
<li>所有第三方模块用法都差不多：<ol>
<li>通过npm 下载</li>
<li>通过require函引包</li>
<li>查看第三方包的 API 文档（例如：moment）</li>
</ol>
</li>
</ul>
</li>
<li>核心模块<ul>
<li>核心模块是由Node环境平台本身提供的</li>
<li>以一个唯一核心 模块标识名称进行暴露</li>
<li>使用的时候直接通 “require” 进行函数加载<ul>
<li>如：文件操作模块“fs”，网络操作模块“http”</li>
</ul>
</li>
</ul>
</li>
<li>总结：<ul>
<li>将来我们会结合以上的功能去开发 Node 应用程序，这里先宏观了解一下</li>
<li>模块的加载机制，会随着课程的深入再具体讲解。</li>
</ul>
</li>
</ul>
<h3 id="path-环境变量"><a href="#path-环境变量" class="headerlink" title="path 环境变量"></a>path 环境变量</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">问题：为什么不管我们把文件放在哪个目录下面，都可以在CMD中通过Node来运行文件？</span><br><span class="line"></span><br><span class="line">答案：环境变量。</span><br></pre></td></tr></table></figure>
<ul>
<li>什么是环境变量？<ul>
<li>在CMD中，我们输入一段字符时，系统会将字符当作一个程序去当前路径下面去找对应的程序，如果有，直接运行</li>
<li>如果没有，系统会去用户变量对应的路径下去找程序，如果能找到直接运行</li>
<li>如果没有， 系统会去系统变量对应的路径下去找程序，如果能找到，直接运行</li>
<li>如果都没有，报错</li>
</ul>
</li>
<li>path变量特点：<ul>
<li>由一个或者多个路径组成，路径之间以  <strong>英文分号</strong> 隔开</li>
<li>将来CMD会按照path中的路径一个一个去找对应的程序，如果有就运行，如果没有就出错</li>
<li>环境变量除了可以是直接放路径以外，还可以通过用户自己来创建一个变量，以： <strong>%变量名%</strong> 的形式添加到path中</li>
</ul>
</li>
</ul>
<h3 id="常用核心模块"><a href="#常用核心模块" class="headerlink" title="常用核心模块"></a>常用核心模块</h3><h4 id="NodeJS-版-hello-word"><a href="#NodeJS-版-hello-word" class="headerlink" title="NodeJS 版 hello word"></a>NodeJS 版 hello word</h4><pre><code>1. 创建一个文件，后缀名改为：.js
2. 在文件中输入 console.log(&quot;hello word&quot;); 
3. 使用 node 打开文件：
  方法一：通过 CMD 转到文件所在的路径下面：node + 文件名
  方法二：直接找到文件所在目录，在空白处：shift + 右键 ----&gt; 在此外打开命令窗口 ----&gt; 在cmd中输入: node + 文件名
</code></pre><h4 id="NodeJS-读写文件"><a href="#NodeJS-读写文件" class="headerlink" title="NodeJS 读写文件"></a>NodeJS 读写文件</h4><p>​    读文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line">fs.readFile(<span class="string">"./01_hello word.js"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (err) &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">"读取出错"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">console</span>.log(data.toString());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>​    写文件：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</span><br><span class="line">fs.writeFile(<span class="string">"./00selfbuild.js"</span>,<span class="string">"这是我自己写的内容"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"写入文件失败"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"写入完成"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="NodeJS-开启服务器"><a href="#NodeJS-开启服务器" class="headerlink" title="NodeJS 开启服务器"></a>NodeJS 开启服务器</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'收到客户端请求了'</span>);</span><br><span class="line">	response.write(<span class="string">'&lt;h1&gt;hello word&lt;/h1&gt;'</span>);</span><br><span class="line">	response.write(<span class="string">'over'</span>);</span><br><span class="line">	response.end();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">server.listen( <span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'服务器启动成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="构建HTTP服务"><a href="#构建HTTP服务" class="headerlink" title="构建HTTP服务"></a>构建HTTP服务</h3><ul>
<li><p>编写一个响应 “hello word” 服务</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'收到客户端请求了'</span>);</span><br><span class="line">    response.write(<span class="string">'hello word'</span>);</span><br><span class="line">    response.end();</span><br><span class="line">&#125;);</span><br><span class="line">server.listen( <span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'服务器启动成功'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：<ul>
<li>服务开启之后除了 request 中的内容会执行多次以外，其它的代码只会执行一行 </li>
<li>一个端口号只能被一个程序占用。</li>
</ul>
</li>
</ul>
</li>
<li><p>根据不同请求输出不同响应服务var http = require(‘http’);</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">var</span> server = http.createServer();</span><br><span class="line">        server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">request, response</span>) </span>&#123;</span><br><span class="line">        	<span class="keyword">var</span> url = request.url;</span><br><span class="line">        	<span class="keyword">if</span> ( url == <span class="string">'/'</span>) &#123;</span><br><span class="line">              	response.end(<span class="string">'home index'</span>);</span><br><span class="line">        	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (url == <span class="string">'/a'</span>)&#123;</span><br><span class="line">        		response.end(<span class="string">'aaa index'</span>);</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        server.listen( <span class="number">3000</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'服务器启动成功'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">注意：</span><br><span class="line">    所有请求都是以 “/” 开头的</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据不同请求输出不同文件服务：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"></span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> req, res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> url = req.url;</span><br><span class="line">	<span class="keyword">if</span> (url == <span class="string">'/'</span>) &#123;</span><br><span class="line">		fs.readFile(<span class="string">'./temp/index.html'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</span><br><span class="line">			res.end(data);</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> ( url == <span class="string">'/a'</span>) &#123;</span><br><span class="line">		res.end(<span class="string">'请求的是a'</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"服务器开启成功"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>注意：<ul>
<li>可以通过自己写的服务在不同的页面中跳转，跳转时可以不加ip和端口号</li>
<li>如果在自己的html页面中添加一些css文件/图片，那么将来服务是没有办法拿到css文件件/图片的。</li>
</ul>
</li>
</ul>
</li>
<li><p>构建一个类似于 Apache 的功能</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>); 	</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line">server.on(<span class="string">'request'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> req, res</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">var</span> url = req.url;</span><br><span class="line">	<span class="keyword">var</span> filePath = <span class="string">'.'</span> + url;</span><br><span class="line">	fs.readFile( filePath, <span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</span><br><span class="line">	   	<span class="keyword">if</span> (err) &#123;</span><br><span class="line">	        res.end(<span class="string">'404 Not Found'</span>)  </span><br><span class="line">	   	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			res.end(data);</span><br><span class="line">		&#125;</span><br><span class="line">	 &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">server.listen(<span class="number">3000</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	 <span class="built_in">console</span>.log(<span class="string">"服务器开启成功"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><p>注意：文件的命名不能以“/”开头，否则服务器会去当前文件处的磁盘根目录去找到文件</p>
<p>​</p>
<h3 id="渲染方式"><a href="#渲染方式" class="headerlink" title="渲染方式"></a>渲染方式</h3></li>
</ul>
</li>
<li><p>浏览器渲染</p>
<ul>
<li>特点<ul>
<li>从服务器得到数据</li>
<li>在浏览器中将数据进行渲染</li>
</ul>
</li>
<li>优点：<ul>
<li>第一次加载页面时数据相对而言会少一点</li>
<li>用户体验会好一点</li>
</ul>
</li>
<li>缺点：<ul>
<li>不利于SEO优化</li>
</ul>
</li>
</ul>
</li>
<li><p>服务器渲染</p>
<ul>
<li>特点：<ul>
<li>所有的数据在服务器端已经加载完毕</li>
<li>浏览器只负责渲染页面就可以</li>
</ul>
</li>
<li>优点：<ul>
<li>利于SEO优化</li>
</ul>
</li>
<li>缺点：<ul>
<li>第一次加载时速度会慢一点</li>
</ul>
</li>
</ul>
<p>​</p>
</li>
</ul>
<h3 id="文件操作的同步与异步"><a href="#文件操作的同步与异步" class="headerlink" title="文件操作的同步与异步"></a>文件操作的同步与异步</h3><ul>
<li><p>异步读取文件</p>
<figure class="highlight plain"><figcaption><span>fs </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">console.log(&apos;111&apos;);</span><br><span class="line"></span><br><span class="line">fs.readFile(&apos;./a.txt&apos;,function(err,data) &#123;</span><br><span class="line"></span><br><span class="line">    console.log(&apos;222&apos;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.readFile(&apos;./b.txt&apos;,function(err,data) &#123;</span><br><span class="line"></span><br><span class="line">    console.log(&apos;333&apos;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">fs.readFile(&apos;./c.txt&apos;,function(err,data) &#123;</span><br><span class="line"></span><br><span class="line">    console.log(&apos;444&apos;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(&apos;555&apos;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>同步读取文件</p>
<pre><code>​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">var fs = require(&apos;fs&apos;);</span><br><span class="line"></span><br><span class="line">console.log(&apos;111&apos;);</span><br><span class="line"></span><br><span class="line">var dataA = fs.readFileSync(&apos;./a.txt&apos;).toString();</span><br><span class="line">console.log(&apos;222&apos;);</span><br><span class="line">console.log(dataA);</span><br><span class="line"></span><br><span class="line">var dataB = fs.readFileSync(&apos;./a.txt&apos;).toString();</span><br><span class="line">console.log(&apos;333&apos;);</span><br><span class="line">console.log(dataB);</span><br><span class="line"></span><br><span class="line">var dataC = fs.readFileSync(&apos;./a.txt&apos;).toString();</span><br><span class="line">console.log(&apos;444&apos;);</span><br><span class="line">console.log(dataC);</span><br><span class="line"></span><br><span class="line">console.log(&apos;555&apos;);</span><br><span class="line">​</span><br></pre></td></tr></table></figure>
</code></pre></li>
<li><p>区别：</p>
<ul>
<li>异步：<ul>
<li>通过一个回调函数来获取异步操作结果</li>
<li>异步操作的回调函数第一个 参数：err<ul>
<li>如果操作成功：err 为null</li>
<li>如果操作失败：err 为 错误对象</li>
<li>所以在异步操作中，优先判断 err 是否出错</li>
<li>在异步操作中，无法通过try-catch来捕获异常</li>
</ul>
</li>
</ul>
</li>
<li>同步：<ul>
<li>直接等待代码读取完文件再去执行下面的代码</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="第三方模块：模板引擎的使用"><a href="#第三方模块：模板引擎的使用" class="headerlink" title="第三方模块：模板引擎的使用"></a>第三方模块：模板引擎的使用</h3><ul>
<li>总结：数据使用模板渲染即可以在浏览器端渲染，又可以在服务器端渲染.<ul>
<li>区别：<ol>
<li>在浏览器端渲染（如：京东商品的评论信息），可以使页面加载更快，用户体验更好</li>
<li>在服务器端渲染（如：京东商品数据），可以使页面利于SEO优化</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="得到文件的状态"><a href="#得到文件的状态" class="headerlink" title="得到文件的状态"></a>得到文件的状态</h3><ul>
<li>fs.stat(path, callback)<ul>
<li>作用：用来判断传入的路径的状态</li>
<li>参数：<ul>
<li>path：要传入的路径</li>
<li>callback：回调函数<ul>
<li>回调函数参数：<ul>
<li>err 目录出错时的对象</li>
<li>stat 路径的状态对象<ul>
<li>stat.isFile()：判断路径对应的是否是文件</li>
<li>stat.isDirectory()：判断路径对应的是否是文件夹</li>
<li>stat.size：得到对应路径文件的大小（如果路径对应的是文件夹，则得不到大小）</li>
<li>stat.mtime：得到应对路径文件的修改时间</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="使用-nodemon-实现改完代码服务自动重启"><a href="#使用-nodemon-实现改完代码服务自动重启" class="headerlink" title="使用 nodemon 实现改完代码服务自动重启"></a>使用 nodemon 实现改完代码服务自动重启</h3><ul>
<li><p>nodemon 是一个基于 Node 开发的一个命令行工具，</p>
<ul>
<li>可以实现监视代码改动，自动重启服务的功能。</li>
<li>本质还是通过 node 执行的咱们自己写的脚本代码。</li>
</ul>
</li>
<li><p>使用步骤：</p>
<ul>
<li><p>第一，安装 nodemon</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">简写：npm i -g nodemon</span><br><span class="line"></span><br><span class="line">全称：npm install --global nodemon</span><br></pre></td></tr></table></figure>
</li>
<li><p>第二，基本使用：</p>
<pre><code>​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 以前的做法：node app.js</span><br><span class="line"></span><br><span class="line"> 现在的做法：nodemon app.js </span><br><span class="line">​</span><br></pre></td></tr></table></figure>
</code></pre></li>
</ul>
</li>
</ul>
<pre><code>### 使用 nodemon 实现改完代码服务自动重启
</code></pre><ul>
<li><p>nodemon 是一个基于 Node 开发的一个命令行工具，</p>
<ul>
<li>可以实现监视代码改动，自动重启服务的功能。</li>
<li>本质还是通过 node 执行的咱们自己写的脚本代码。</li>
</ul>
</li>
<li><p>使用步骤：</p>
<ul>
<li><p>第一，安装 nodemon</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">简写：npm i -g nodemon</span><br><span class="line">全称：npm install --global nodemon</span><br></pre></td></tr></table></figure>
</li>
<li><p>第二，基本使用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">以前的做法：node app.js</span><br><span class="line">现在的做法：nodemon app.js</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="CommonJS-规范："><a href="#CommonJS-规范：" class="headerlink" title="CommonJS 规范："></a>CommonJS 规范：</h3><ul>
<li><p>module对象</p>
<ul>
<li>module.exports</li>
<li>exports</li>
<li>在CommonJS 中规定：一个模块返回数据可以通过module.exports和rexports两个关键字来返回</li>
<li>模块最终返回的仅仅只是 modules.exports</li>
<li>exports 仅仅只是 modules.exports的一个引用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">验证module.exports与exports的关系：</span><br><span class="line">	1）console.log(module.exports === exports);</span><br><span class="line">	2）exports.a = 123;</span><br><span class="line">	3）exports = fucntion() &#123;&#125;</span><br><span class="line">	4）exports = modules.exports =  fucntion() &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>模块加载机制</p>
<ul>
<li><p>require关键字：</p>
<ul>
<li>可以帮助一个模块加载另一个模块</li>
</ul>
</li>
<li><p>优先从缓存中加载</p>
<ul>
<li>Node 加载模块时，如果这个模块已经被加载过了，则会直接缓存起来，将来再次引用时不会再次加加载这个模块（即：如果一个模块被加载两次，则模块中的代码只会被执行一次）</li>
<li>加载模块本质上是加载模块中的modules.exports值</li>
</ul>
</li>
<li><p>核心模块</p>
<ul>
<li>先去缓存中看下是否存在，如果有，直接拿来使用</li>
<li>如果没有，则加载</li>
</ul>
</li>
<li><p>自定义模块</p>
<ul>
<li>以 ‘./‘ 或者 ‘../‘ 或者 ‘c:/xxx’ 类似于这样的标识路径作为加载名</li>
</ul>
</li>
<li><p>第三方模块：包</p>
<ul>
<li>先在当前文件的模块所属目录去找 node_modules目录</li>
<li>如果找到，则去该目录中找 moment 目录</li>
<li>如果找到 moment 目录， 则找该目录中的 package.json文件</li>
<li>如果找到 package.json 文件，则找该文件中的 main属性</li>
<li>如果找到main 属性，则拿到该属性对应的文件</li>
<li>如果找到 moment 目录之后，<ul>
<li>没有package.json</li>
<li>或者有 package.json 没有 main 属性</li>
<li>或者有 main 属性，但是指向的路径不存在 </li>
<li>则 node 会默认去看一下 moment 目录中有没有 index.js ,index.node, index.json 文件</li>
</ul>
</li>
<li>如果找不到index 或者 找不到 moment 或者找不到 node_modules </li>
<li>则进入上一级目录找 node_moudles 查找（规则同上）</li>
<li>如果上一级还找不到，继续向上，一直到当前文件所属磁盘的根目录</li>
<li>如果到磁盘概目录还没有找到，直接报错</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">核心模块：</span><br><span class="line">	由 Node 本身提供，通过唯一的模块标识名进行加载</span><br><span class="line">	核心模块本质上也是文件模块，它已经被编译到可执行文件中了</span><br><span class="line">第三方模块</span><br><span class="line">用户自定义模块</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>模块的兼容处理</p>
<ul>
<li><p>有些模块即能在浏览器端使用，又能在服务器端使用，是因为它们作了兼容处理（如：moment）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(function (global, factory) &#123;</span><br><span class="line">    typeof exports === &apos;object&apos; &amp;&amp; typeof module !== &apos;undefined&apos; ? module.exports = factory() :typeof define === &apos;function&apos; &amp;&amp; define.amd ? define(factory) :</span><br><span class="line">    global.moment = factory()</span><br><span class="line">&#125;(this, (function () &#123; &apos;use strict&apos;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="文件上传第三方包：formidable"><a href="#文件上传第三方包：formidable" class="headerlink" title="文件上传第三方包：formidable"></a>文件上传第三方包：formidable</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在表单中如果想上传文件必须将表单中的属性：enctype 设置为 multipart/form-data才可以。</span><br></pre></td></tr></table></figure>
<h2 id="ECMAScript-6-2015"><a href="#ECMAScript-6-2015" class="headerlink" title="ECMAScript 6 (2015)"></a>ECMAScript 6 (2015)</h2><ul>
<li><p>严格模式</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br></pre></td></tr></table></figure>
<ul>
<li>如果开启了严格模式，变量不能直接使用，必须先申明，申明变量时一定要用var / let</li>
<li>更多介绍：<a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html</a></li>
</ul>
</li>
<li><p>申明一个变量(let)</p>
<ul>
<li>let 申明的变量没有变量提升</li>
<li>let 申明的变量存在块级作用域<ul>
<li>可以用来解决闭包问题</li>
</ul>
</li>
<li>let 申明的全局变量在函数内部也可以使用</li>
</ul>
</li>
<li><p>申明一个常量 (const)</p>
<ul>
<li>一旦设置无法修改</li>
<li>可以改变对象中的属性</li>
</ul>
</li>
<li><p>字符串的一些扩展方法的使用</p>
<ul>
<li><p>includes() ：返回布尔值，表示是否找到了参数字符串</p>
</li>
<li><p>startsWith() ：返回布尔值，表示是否找到了参数字符串</p>
</li>
<li><p>endsWith() ：返回布尔值，表示参数字符串是否在源字符串的尾部</p>
</li>
<li><p>repeat()：返回一个新字符串，表示将原字符串重复n次</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = “hello world”;</span><br><span class="line">s.startsWith(‘hello’) <span class="comment">//true</span></span><br><span class="line">s.startsWith(‘world’,<span class="number">6</span>) <span class="comment">//true   ，表示从第6个开始后面的字符是 world</span></span><br><span class="line">s.endWith(‘hello’,<span class="number">5</span>) <span class="comment">//true ，表示前5个字符是hello</span></span><br><span class="line">‘x’.repeat(<span class="number">2</span>)  <span class="comment">// “xx”</span></span><br><span class="line">‘hello’.repeat(<span class="number">2</span>)  <span class="comment">// “hellohello”</span></span><br><span class="line">‘ivan’.repeat(<span class="number">0</span>)  <span class="comment">// “”</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>模板字符串</p>
<ul>
<li>使用“`”来定义模板字符串</li>
<li>在模板字符串中可以保持变量的结构</li>
<li>在模板字符串中可以直接使用js代码格式：${ code }</li>
</ul>
</li>
<li><p>箭头函数的推演</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">写法<span class="number">1</span>: arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;<span class="keyword">return</span> x - y ;&#125;);</span><br><span class="line">写法<span class="number">2</span>：arr.sort(<span class="function">(<span class="params">x,y</span>) =&gt;</span> &#123;<span class="keyword">return</span> x - y ;&#125;);</span><br><span class="line">写法<span class="number">3</span>：arr.sort(<span class="function">(<span class="params">x,y</span>) =&gt;</span> x - y);</span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数的其它写法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果参数只有一个，可以将()省略    // arr.map(c=&gt;c+1);</span><br><span class="line">如果没有参数，则一定能要写上()     // ()=&gt; console.log(‘a’)</span><br><span class="line">如果多于一个参数，每个参数之间用逗号分隔   (x, y) =&gt; &#123; ... &#125;</span><br><span class="line">如果方法体只有一句代码，可以省略&#123;&#125; 和分号，如果有返回可以省略return</span><br><span class="line">如果方法体多于一句代码，则不能省略&#123;&#125; ,每句代码使用 分号分隔</span><br></pre></td></tr></table></figure>
</li>
<li><p>箭头函数的一些特点</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a.箭头函数没有自己的this，函数体内部写的this，指向的是外层代码块的this</span><br><span class="line">b.箭头函数内部的this是定义时所在的对象，而不是使用时所在的对象并且不会改变</span><br><span class="line">c.箭头箭头函数不能用作构造函数</span><br><span class="line">d.箭头函数内部不存在arguments，箭头函数体中使用的arguments其实指向的是外层函数的arguments</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h2><ul>
<li>作者：<a href="https://github.com/tj" target="_blank" rel="noopener">https://github.com/tj</a></li>
<li>Github：<a href="https://github.com/expressjs/express" target="_blank" rel="noopener">https://github.com/expressjs/express</a></li>
<li>官网：<a href="http://expressjs.com/" target="_blank" rel="noopener">http://expressjs.com/</a></li>
<li>中文翻译：<a href="http://www.expressjs.com.cn/" target="_blank" rel="noopener">http://www.expressjs.com.cn/</a></li>
<li>awesome-express: <a href="https://github.com/wabg/awesome-express" target="_blank" rel="noopener">https://github.com/wabg/awesome-express</a></li>
</ul>
<h3 id="起步"><a href="#起步" class="headerlink" title="起步"></a>起步</h3><p>安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save express</span><br></pre></td></tr></table></figure>
<p>hello world：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Hello World!'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Example app listening on port 3000!'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>基本路由：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Hello World!'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Got a POST request'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.put(<span class="string">'/user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Got a PUT request at /user'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.delete(<span class="string">'/user'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'Got a DELETE request at /user'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="Express-中外置路由使用"><a href="#Express-中外置路由使用" class="headerlink" title="Express 中外置路由使用"></a>Express 中外置路由使用</h3><p>router.js 文件代码如下:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 加载 express 模块</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 调用 express.Router() 方法，得到一个路由容器实例</span></span><br><span class="line"><span class="keyword">var</span> router = express.Router()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 为 router 添加不同的路由</span></span><br><span class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line">  res.send(<span class="string">'hello express'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/add'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">router.get(<span class="string">'/info'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. 将 router 路由容器导出</span></span><br><span class="line"><span class="built_in">module</span>.exports = router</span><br></pre></td></tr></table></figure>
<p>在 app.js 文件中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. 加载路由模块</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="built_in">require</span>(<span class="string">'./router'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 将路由模块导出的路由容器 router 通过 app.use() 方法挂载到 app 实例上</span></span><br><span class="line"><span class="comment">//    这样的话咱们的 app 实例程序就拥有了 router 的路由了</span></span><br><span class="line">app.use(router)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'running...'</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="在-Express-中处理静态资源"><a href="#在-Express-中处理静态资源" class="headerlink" title="在 Express 中处理静态资源"></a>在 Express 中处理静态资源</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">app.use(express.static(<span class="string">'public'</span>))</span><br><span class="line">app.use(express.static(<span class="string">'files'</span>))</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">'/public'</span>, express.static(<span class="string">'public'</span>))</span><br><span class="line">app.use(<span class="string">'/aaa'</span>, express.static(<span class="string">'public'</span>))</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">'/static'</span>, express.static(path.join(__dirname, <span class="string">'public'</span>)))</span><br></pre></td></tr></table></figure>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://robynnnn.gitee.io" rel="external nofollow noreferrer">Robyn</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://robynnnn.gitee.io/2017/11/01/NodeJS/01.NodeJS-introduce/">https://robynnnn.gitee.io/2017/11/01/NodeJS/01.NodeJS-introduce/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="https://robynnnn.gitee.io" target="_blank">Robyn</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/NodeJS/">
                                    <span class="chip bg-color">NodeJS</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2017/11/01/NodeJS/08.完成一个小型静态资源服务器/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/8.jpg" class="responsive-img" alt="08.完成一个小型静态资源服务器">
                        
                        <span class="card-title">08.完成一个小型静态资源服务器</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            1234567891011121314151617181920212223242526272829303132333435363738394041424344454647//引入http核心模块var http = require("htt
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2017-11-01
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/NodeJS/" class="post-category">
                                    NodeJS
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/NodeJS/">
                        <span class="chip bg-color">NodeJS</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2017/11/01/NodeJS/09.后台语言模板的渲染/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="09.后台语言模板的渲染">
                        
                        <span class="card-title">09.后台语言模板的渲染</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            #####1. 首先先去官网查找模板的相关使用

https://www.npmjs.com/

在这个网站上输入关键字art-template





https://aui.github.io/art-template/zh-cn/i
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2017-11-01
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/NodeJS/" class="post-category">
                                    NodeJS
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/NodeJS/">
                        <span class="chip bg-color">NodeJS</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2017</span>
            <a href="https://robynnnn.gitee.io" target="_blank">Robyn</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/robynnnn" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:robynnnn@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=291438525" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 291438525" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
